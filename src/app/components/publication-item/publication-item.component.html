<ion-card>
  <ion-item (click)="voirAmi()" lines="none">
    <ion-avatar slot="start">
      <img [src]="publication.utilisateur ? publication.utilisateur.photoURL :'../../../assets/img/user.png'" />
    </ion-avatar>
    <ion-label>
      <h2>
        <b>
          {{publication.utilisateur ? publication.utilisateur.displayName : 'Aucun utilisateur'}}
        </b>
      </h2>
      <p>
        Le {{publication.date | date: 'dd-MM-yyyy'}} à {{publication.date | date: 'HH:mm'}}
      </p>
    </ion-label>
  </ion-item>
  <ion-item lines="none" class="tweet">
    <ion-label text-wrap (click)="ouvrirPublication()">
      <span [innerHTML]="urlify(publication.texte)">

      </span>
    </ion-label>
  </ion-item>
  <img *ngIf="publication.cover" class="tweet-img" [src]="publication.cover" />
  <div style="margin-top: 10px; font-size: 1.2em;">
    <ion-button color="danger" *ngIf="jaiLike" fill="clear" (click)="unlike()">
      <ion-icon slot="start" name="heart"></ion-icon>
      {{publication.likes}}
    </ion-button>
    <ion-button *ngIf="!jaiLike" fill="clear" (click)="like()">
      <ion-icon slot="start" name="heart-outline"></ion-icon>
      {{publication.likes}}
    </ion-button>
    <ion-button fill="clear" (click)="ouvrirPublication()">
      <ion-icon slot="start" name="chatbubbles-outline"></ion-icon>
      {{publication.commentaires ? publication.commentaires.length : 0}}
    </ion-button>
  </div>

  <!-- COMMENTAIRES -->
  <hr *ngIf="commentaire">
  <ion-item *ngIf="commentaire"  (click)="ouvrirPublication()">
    <ion-avatar slot="start">
      <img class="image-muanza"
        [src]="commentaire.utilisateur.photoURL ? commentaire.utilisateur.photoURL: '../../../assets/img/user.png'" />
    </ion-avatar>

    <ion-label text-wrap>
      <h4>
        {{commentaire.utilisateur ? commentaire.utilisateur.displayName : 'Aucun
        utilisateur'}}
      </h4>
      <div>
        {{commentaire.texte}}
      </div>
      <small>
        {{commentaire.date | date: 'dd-MM-yyyy'}} à {{commentaire.date | date:
        'HH:mm'}}
      </small>
    </ion-label>
  </ion-item>
</ion-card>